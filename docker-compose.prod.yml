# Production override - requires all environment variables to be set
# Usage: docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d

version: '3.8'

services:
  app:
    environment:
      # App Config - REQUIRED in production
      APP_ENV: ${APP_ENV:?APP_ENV is required (e.g., production)}
      APP_DEBUG: ${APP_DEBUG:-false}
      APP_URL: ${APP_URL:?APP_URL is required (e.g., https://api.your-domain.com)}

      # Database - REQUIRED
      DB_PASSWORD: ${DB_PASSWORD:?DB_PASSWORD is required}

      # Mail - REQUIRED for sending emails
      MAIL_HOST: ${MAIL_HOST:?MAIL_HOST is required}
      MAIL_USERNAME: ${MAIL_USERNAME:?MAIL_USERNAME is required}
      MAIL_PASSWORD: ${MAIL_PASSWORD:?MAIL_PASSWORD is required}
      MAIL_FROM_ADDRESS: ${MAIL_FROM_ADDRESS:?MAIL_FROM_ADDRESS is required}

      # Frontend URLs - REQUIRED
      UG_APP_URL: ${UG_APP_URL:?UG_APP_URL is required (e.g., https://ug.your-domain.com)}
      ORG_APP_URL: ${ORG_APP_URL:?ORG_APP_URL is required (e.g., https://org.your-domain.com)}
      ADMIN_APP_URL: ${ADMIN_APP_URL:?ADMIN_APP_URL is required (e.g., https://admin.your-domain.com)}

      # SMS - REQUIRED for SMS functionality
      SMS_PROVIDER_API_ACCOUNT_ID: ${SMS_PROVIDER_API_ACCOUNT_ID:?SMS_PROVIDER_API_ACCOUNT_ID is required}
      SMS_PROVIDER_API_ACCOUNT_PASSWORD: ${SMS_PROVIDER_API_ACCOUNT_PASSWORD:?SMS_PROVIDER_API_ACCOUNT_PASSWORD is required}
      SMS_PROVIDER_API_KEY: ${SMS_PROVIDER_API_KEY:?SMS_PROVIDER_API_KEY is required}

      # Alerts
      ALERT_EMAIL: ${ALERT_EMAIL:?ALERT_EMAIL is required}
